"use strict";Date.prototype.getWeek=function(n){var t,r,u,i;return n?(t=new Date(this.valueOf()),r=(this.getDay()+6)%7,t.setDate(t.getDate()-r+3),u=t.valueOf(),t.setMonth(0,1),t.getDay()!=4&&t.setMonth(0,1+(11-t.getDay())%7),1+Math.ceil((u-t)/6048e5)):(i=new Date(this.getFullYear(),0,1),Math.ceil(((this.getTime()-i.getTime())/864e5+i.getDay()+1)/7))};Date.prototype.getMonthFormatted=function(){var n=this.getMonth()+1;return n<10?"0"+n:n};Date.prototype.getDateFormatted=function(){var n=this.getDate();return n<10?"0"+n:n};String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})});String.prototype.formatNum||(String.prototype.formatNum=function(n){for(var t=""+this;t.length<n;)t="0"+t;return t}),function(n){function c(n,t){var i,r,u;u=n;i=n.indexOf("?")<0?"?":"&";for(r in t)u+=i+r+"="+encodeURIComponent(t[r]),i="&";return u}function i(t,i){var r=t.options[i]!=null?t.options[i]:null,u=t.locale[i]!=null?t.locale[i]:null,f;return i=="holidays"&&t.options.merge_holidays?(f={},n.extend(!0,f,u?u:e.holidays),r&&n.extend(!0,f,r),f):r!=null?r:u!=null?u:e[i]}function u(t,r){var e=[],o=i(t,"holidays"),s,h;for(s in o)e.push(s+":"+o[s]);return(e.push(r),e=e.join("|"),e in u.cache)?u.cache[e]:(h=[],n.each(o,function(t,i){var e=null,c=null,o=!1,s,u;if(n.each(t.split(">"),function(n,i){var s,h=null,u;if(s=/^(\d\d)-(\d\d)$/.exec(i))h=new Date(r,parseInt(s[2],10)-1,parseInt(s[1],10));else if(s=/^(\d\d)-(\d\d)-(\d\d\d\d)$/.exec(i))parseInt(s[3],10)==r&&(h=new Date(r,parseInt(s[2],10)-1,parseInt(s[1],10)));else if(s=/^easter(([+\-])(\d+))?$/.exec(i))h=l(r,s[1]?parseInt(s[1],10):0);else if(s=/^(\d\d)([+\-])([1-5])\*([0-6])$/.exec(i)){var a=parseInt(s[1],10)-1,p=s[2],v=parseInt(s[3]),y=parseInt(s[4]);switch(p){case"+":for(u=new Date(r,a,-6);u.getDay()!=y;)u=new Date(u.getFullYear(),u.getMonth(),u.getDate()+1);h=new Date(u.getFullYear(),u.getMonth(),u.getDate()+7*v);break;case"-":for(u=new Date(r,a+1,7);u.getDay()!=y;)u=new Date(u.getFullYear(),u.getMonth(),u.getDate()-1);h=new Date(u.getFullYear(),u.getMonth(),u.getDate()-7*v)}}if(!h)return f("Unknown holiday: "+t),o=!0,!1;switch(n){case 0:e=h;break;case 1:if(h.getTime()<=e.getTime())return f("Unknown holiday: "+t),o=!0,!1;c=h;break;default:return f("Unknown holiday: "+t),o=!0,!1}}),!o){if(s=[],c)for(u=new Date(e.getTime());u.getTime()<=c.getTime();u.setDate(u.getDate()+1))s.push(new Date(u.getTime()));else s.push(e);h.push({name:i,days:s})}}),u.cache[e]=h,u.cache[e])}function f(t){n.type(window.console)=="object"&&n.type(window.console.warn)=="function"&&window.console.warn("[Bootstrap-Calendar] "+t)}function t(t,i){return this.options=n.extend(!0,{position:{start:new Date,end:new Date}},h,t),this.setLanguage(this.options.language),this.context=i,i.css("width",this.options.width).addClass("cal-context"),this.view(),this}function s(t,i,r,u){t.stopPropagation();var i=n(i),f=i.closest(".cal-cell"),e=f.closest(".cal-before-eventlist"),o=f.data("cal-row");i.fadeOut("fast");r.slideUp("fast",function(){var t=n(".events-list",f);r.html(u.options.templates["events-list"]({cal:u,events:u.getEventsBetween(parseInt(t.data("cal-start")),parseInt(t.data("cal-end")))}));e.after(r);u.activecell=n("[data-cal-date]",f).text();n("#cal-slide-tick").addClass("tick"+o).show();r.slideDown("fast",function(){n("body").one("click",function(){r.slideUp("fast");u.activecell=0})})});setTimeout(function(){n("a.event-item").mouseenter(function(){n('a[data-event-id="'+n(this).data("event-id")+'"]').closest(".cal-cell1").addClass("day-highlight dh-"+n(this).data("event-class"))});n("a.event-item").mouseleave(function(){n("div.cal-cell1").removeClass("day-highlight dh-"+n(this).data("event-class"))});u._update_modal()},400)}function l(n,t){var u=n%19,i=Math.floor(n/100),f=n%100,s=Math.floor(i/4),h=i%4,c=Math.floor((i+8)/25),l=Math.floor((i-c+1)/3),r=(19*u+i-s-l+15)%30,a=Math.floor(f/4),v=f%4,e=(32+2*h+2*a-r-v)%7,y=Math.floor((u+11*r+22*e)/451),o=r+e+7*y+114,p=Math.floor(o/31)-1,w=o%31+1;return new Date(n,p,w+(t?t:0),0,0,0)}var h={tooltip_container:"body",width:"100%",view:"month",day:"now",time_start:"06:00",time_end:"22:00",time_split:"30",events_source:"",events_cache:!1,format12:!1,am_suffix:"AM",pm_suffix:"PM",tmpl_path:"tmpls/",tmpl_cache:!0,classes:{months:{inmonth:"cal-day-inmonth",outmonth:"cal-day-outmonth",saturday:"cal-day-weekend",sunday:"cal-day-weekend",holidays:"cal-day-holiday",today:"cal-day-today"},week:{workday:"cal-day-workday",saturday:"cal-day-weekend",sunday:"cal-day-weekend",holidays:"cal-day-holiday",today:"cal-day-today"}},modal:null,modal_type:"iframe",modal_title:null,views:{year:{slide_events:1,enable:1},month:{slide_events:1,enable:1},week:{enable:1},day:{enable:1}},merge_holidays:!1,display_week_numbers:!0,weekbox:!0,onAfterEventsLoad:function(){},onBeforeEventsLoad:function(n){n()},onAfterViewLoad:function(){},onAfterModalShown:function(){},onAfterModalHidden:function(){},events:[],templates:{year:"",month:"",week:"",day:""},stop_cycling:!1},e={first_day:2,week_numbers_iso_8601:!1,holidays:{"01-01":"New Year's Day","01+3*1":"Birthday of Dr. Martin Luther King, Jr.","02+3*1":"Washington's Birthday","05-1*1":"Memorial Day","04-07":"Independence Day","09+1*1":"Labor Day","10+2*1":"Columbus Day","11-11":"Veterans Day","11+4*4":"Thanksgiving Day","25-12":"Christmas"}},o={error_noview:"Calendar: View {0} not found",error_dateformat:'Calendar: Wrong date format {0}. Should be either "now" or "yyyy-mm-dd"',error_loadurl:"Calendar: Event URL is not set",error_where:'Calendar: Wrong navigation direction {0}. Can be only "next" or "prev" or "today"',error_timedevide:"Calendar: Time split parameter should divide 60 without decimals. Something like 10, 15, 30",no_events_in_day:"No events in this day.",title_year:"{0}",title_month:"{0} {1}",title_week:"week {0} of {1}",title_day:"{0} {1} {2}, {3}",week:"Week {0}",all_day:"All day",time:"Time",events:"Events",before_time:"Ends before timeline",after_time:"Starts after timeline",m0:"January",m1:"February",m2:"March",m3:"April",m4:"May",m5:"June",m6:"July",m7:"August",m8:"September",m9:"October",m10:"November",m11:"December",ms0:"Jan",ms1:"Feb",ms2:"Mar",ms3:"Apr",ms4:"May",ms5:"Jun",ms6:"Jul",ms7:"Aug",ms8:"Sep",ms9:"Oct",ms10:"Nov",ms11:"Dec",d0:"Sunday",d1:"Monday",d2:"Tuesday",d3:"Wednesday",d4:"Thursday",d5:"Friday",d6:"Saturday"},r="";try{n.type(window.jstz)=="object"&&n.type(jstz.determine)=="function"&&(r=jstz.determine().name(),n.type(r)!=="string"&&(r=""))}catch(a){}u.cache={};t.prototype.setOptions=function(t){n.extend(this.options,t);"language"in t&&this.setLanguage(t.language);"modal"in t&&this._update_modal()};t.prototype.setLanguage=function(t){window.calendar_languages&&t in window.calendar_languages?(this.locale=n.extend(!0,{},o,calendar_languages[t]),this.options.language=t):(this.locale=o,delete this.options.language)};t.prototype._render=function(){var n,t,r;this.context.html("");this._loadTemplate(this.options.view);this.stop_cycling=!1;n={};n.cal=this;n.day=1;n.days_name=i(this,"first_day")==1?[this.locale.d1,this.locale.d2,this.locale.d3,this.locale.d4,this.locale.d5,this.locale.d6,this.locale.d0]:[this.locale.d0,this.locale.d1,this.locale.d2,this.locale.d3,this.locale.d4,this.locale.d5,this.locale.d6];t=parseInt(this.options.position.start.getTime());r=parseInt(this.options.position.end.getTime());n.events=this.getEventsBetween(t,r);switch(this.options.view){case"week":this._calculate_hour_minutes(n);break;case"day":this._calculate_hour_minutes(n)}n.start=new Date(this.options.position.start.getTime());n.lang=this.locale;this.context.append(this.options.templates[this.options.view](n));this._update()};t.prototype._format_hour=function(n){var i=n.split(":"),t=parseInt(i[0]),u=parseInt(i[1]),r="";return this.options.format12&&(r=t<12?this.options.am_suffix:this.options.pm_suffix,t=t%12,t==0&&(t=12)),t.toString().formatNum(2)+":"+u.toString().formatNum(2)+r};t.prototype._format_time=function(n){return this._format_hour(n.getHours()+":"+n.getMinutes())};t.prototype._calculate_hour_minutes=function(t){var o=this,s=parseInt(this.options.time_split),u=60/s,l=Math.min(u,1),e,h,r;(u>=1&&u%1!=0||u<1&&1440/s%1!=0)&&n.error(this.locale.error_timedevide);e=this.options.time_start.split(":");h=this.options.time_end.split(":");t.hours=(parseInt(h[0])-parseInt(e[0]))*l;var a=t.hours*u-parseInt(e[1])/s,c=6e4*s,i=new Date(this.options.position.start.getTime());i.setHours(e[0]);i.setMinutes(e[1]);r=new Date(this.options.position.end.getTime());r.setHours(h[0]);r.setMinutes(h[1]);t.all_day=[];t.by_hour=[];t.after_time=[];t.before_time=[];n.each(t.events,function(n,u){var h=new Date(parseInt(u.start)),l=new Date(parseInt(u.end)),e,v,s;if(u.start_hour=o._format_time(h),u.end_hour=o._format_time(l),u.start<i.getTime()&&(f(1),u.start_hour=h.getDate()+" "+o.locale["ms"+h.getMonth()]+" "+u.start_hour),u.end>r.getTime()&&(f(1),u.end_hour=l.getDate()+" "+o.locale["ms"+l.getMonth()]+" "+u.end_hour),u.start<i.getTime()&&u.end>r.getTime()){t.all_day.push(u);return}if(u.end<i.getTime()){t.before_time.push(u);return}if(u.start>r.getTime()){t.after_time.push(u);return}e=i.getTime()-u.start;u.top=e>=0?0:Math.abs(e)/c;v=Math.abs(a-u.top);s=(u.end-u.start)/c;e>=0&&(s=(u.end-i.getTime())/c);u.lines=s;s>v&&(u.lines=v);t.by_hour.push(u)})};t.prototype._hour_min=function(n){var r=this.options.time_start.split(":"),t=parseInt(this.options.time_split),i=60/t;return n==0?i-parseInt(r[1])/t:i};t.prototype._hour=function(n,t){var r=this.options.time_start.split(":"),i=parseInt(this.options.time_split),u=""+(parseInt(r[0])+n*Math.max(i/60,1)),f=""+i*t;return this._format_hour(u.formatNum(2)+":"+f.formatNum(2))};t.prototype._week=function(){this._loadTemplate("week-days");var t={},r=parseInt(this.options.position.start.getTime()),f=parseInt(this.options.position.end.getTime()),u=[],e=this,o=i(this,"first_day");return n.each(this.getEventsBetween(r,f),function(n,t){t.start_day=new Date(parseInt(t.start)).getDay();o==1&&(t.start_day=(t.start_day+6)%7);t.days=t.end-t.start<=864e5?1:(t.end-t.start)/864e5;t.start<r&&(t.days=t.days-(r-t.start)/864e5,t.start_day=0);t.days=Math.ceil(t.days);t.start_day+t.days>7&&(t.days=7-t.start_day);u.push(t)}),t.events=u,t.cal=this,e.options.templates["week-days"](t)};t.prototype._month=function(n){var t,i,r;return this._loadTemplate("year-month"),t={cal:this},i=n+1,t.data_day=this.options.position.start.getFullYear()+"-"+(i<10?"0"+i:i)+"-01",t.month_name=this.locale["m"+n],r=new Date(this.options.position.start.getFullYear(),n,1,0,0,0),t.start=parseInt(r.getTime()),t.end=parseInt(new Date(this.options.position.start.getFullYear(),n+1,1,0,0,0).getTime()),t.events=this.getEventsBetween(t.start,t.end),this.options.templates["year-month"](t)};t.prototype._day=function(t,r){var e,s,c,h;this._loadTemplate("month-day");var u={tooltip:"",cal:this},f=this.options.classes.months.outmonth,o=this.options.position.start.getDay();return i(this,"first_day")==2?o++:o=o==0?7:o,r=r-o+1,e=new Date(this.options.position.start.getFullYear(),this.options.position.start.getMonth(),r,0,0,0),r>0&&(f=this.options.classes.months.inmonth),s=new Date(this.options.position.end.getTime()-1).getDate(),r+1>s&&(this.stop_cycling=!0),r>s&&(r=r-s,f=this.options.classes.months.outmonth),f=n.trim(f+" "+this._getDayClass("months",e)),r<=0&&(c=new Date(this.options.position.start.getFullYear(),this.options.position.start.getMonth(),0).getDate(),r=c-Math.abs(r),f+=" cal-month-first-row"),h=this._getHoliday(e),h!==!1&&(u.tooltip=h),u.data_day=e.getFullYear()+"-"+e.getMonthFormatted()+"-"+(r<10?"0"+r:r),u.cls=f,u.day=r,u.start=parseInt(e.getTime()),u.end=parseInt(u.start+864e5),u.events=this.getEventsBetween(u.start,u.end),this.options.templates["month-day"](u)};t.prototype._getHoliday=function(t){var i=!1;return n.each(u(this,t.getFullYear()),function(){var r=!1;return n.each(this.days,function(){if(this.toDateString()==t.toDateString())return r=!0,!1}),r?(i=this.name,!1):void 0}),i};t.prototype._getHolidayName=function(n){var t=this._getHoliday(n);return t===!1?"":t};t.prototype._getDayClass=function(n,t){var u=this,r=function(t,i){var r;r=u.options.classes&&n in u.options.classes&&t in u.options.classes[n]?u.options.classes[n][t]:"";typeof r=="string"&&r.length&&i.push(r)},i=[],f;t.toDateString()==(new Date).toDateString()&&r("today",i);f=this._getHoliday(t);f!==!1&&r("holidays",i);switch(t.getDay()){case 0:r("sunday",i);break;case 6:r("saturday",i)}return r(t.toDateString(),i),i.join(" ")};t.prototype.view=function(n){if(n){if(!this.options.views[n].enable)return;this.options.view=n}this._init_position();this._loadEvents();this._render();this.options.onAfterViewLoad.call(this,this.options.view)};t.prototype.navigate=function(t,i){var r=n.extend({},this.options.position);if(t=="next")switch(this.options.view){case"year":r.start.setFullYear(this.options.position.start.getFullYear()+1);break;case"month":r.start.setMonth(this.options.position.start.getMonth()+1);break;case"week":r.start.setDate(this.options.position.start.getDate()+7);break;case"day":r.start.setDate(this.options.position.start.getDate()+1)}else if(t=="prev")switch(this.options.view){case"year":r.start.setFullYear(this.options.position.start.getFullYear()-1);break;case"month":r.start.setMonth(this.options.position.start.getMonth()-1);break;case"week":r.start.setDate(this.options.position.start.getDate()-7);break;case"day":r.start.setDate(this.options.position.start.getDate()-1)}else t=="today"?r.start.setTime((new Date).getTime()):n.error(this.locale.error_where.format(t));this.options.day=r.start.getFullYear()+"-"+r.start.getMonthFormatted()+"-"+r.start.getDateFormatted();this.view();_.isFunction(i)&&i()};t.prototype._init_position=function(){var t,r,u,e,o,f,s;this.options.day=="now"?(e=new Date,t=e.getFullYear(),r=e.getMonth(),u=e.getDate()):this.options.day.match(/^\d{4}-\d{2}-\d{2}$/g)?(o=this.options.day.split("-"),t=parseInt(o[0],10),r=parseInt(o[1],10)-1,u=parseInt(o[2],10)):n.error(this.locale.error_dateformat.format(this.options.day));switch(this.options.view){case"year":this.options.position.start.setTime(new Date(t,0,1).getTime());this.options.position.end.setTime(new Date(t+1,0,1).getTime());break;case"month":this.options.position.start.setTime(new Date(t,r,1).getTime());this.options.position.end.setTime(new Date(t,r+1,1).getTime());break;case"day":this.options.position.start.setTime(new Date(t,r,u).getTime());this.options.position.end.setTime(new Date(t,r,u+1).getTime());break;case"week":f=new Date(t,r,u);s=i(this,"first_day")==1?f.getDate()-(f.getDay()+6)%7:f.getDate()-f.getDay();this.options.position.start.setTime(new Date(t,r,s).getTime());this.options.position.end.setTime(new Date(t,r,s+7).getTime());break;default:n.error(this.locale.error_noview.format(this.options.view))}return this};t.prototype.getTitle=function(){var n=this.options.position.start;switch(this.options.view){case"year":return this.locale.title_year.format(n.getFullYear());case"month":return this.locale.title_month.format(this.locale["m"+n.getMonth()],n.getFullYear());case"week":return this.locale.title_week.format(n.getWeek(i(this,"week_numbers_iso_8601")),n.getFullYear());case"day":return this.locale.title_day.format(this.locale["d"+n.getDay()],n.getDate(),this.locale["m"+n.getMonth()],n.getFullYear())}return};t.prototype.getYear=function(){var n=this.options.position.start;return n.getFullYear()};t.prototype.getMonth=function(){var n=this.options.position.start;return this.locale["m"+n.getMonth()]};t.prototype.getDay=function(){var n=this.options.position.start;return this.locale["d"+n.getDay()]};t.prototype.isToday=function(){var n=(new Date).getTime();return n>this.options.position.start&&n<this.options.position.end};t.prototype.getStartDate=function(){return this.options.position.start};t.prototype.getEndDate=function(){return this.options.position.end};t.prototype._loadEvents=function(){var t=this,i=null,u;"events_source"in this.options&&this.options.events_source!==""?i=this.options.events_source:"events_url"in this.options&&(i=this.options.events_url,f("The events_url option is DEPRECATED and it will be REMOVED in near future. Please use events_source instead."));switch(n.type(i)){case"function":u=function(){return i(t.options.position.start,t.options.position.end,r)};break;case"array":u=function(){return[].concat(i)};break;case"string":i.length&&(u=function(){var u=[],f=t.options.position.start,e=t.options.position.end,o={from:f.getTime(),to:e.getTime(),utc_offset_from:f.getTimezoneOffset(),utc_offset_to:e.getTimezoneOffset()};return r.length&&(o.browser_timezone=r),n.ajax({url:c(i,o),dataType:"json",type:"GET",async:!1}).done(function(t){t.success||n.error(t.error);t.result&&(u=t.result)}),u})}u||n.error(this.locale.error_loadurl);this.options.onBeforeEventsLoad.call(this,function(){t.options.events.length&&t.options.events_cache||(t.options.events=u(),t.options.events.sort(function(n,t){var i;return i=n.start-t.start,i==0&&(i=n.end-t.end),i}));t.options.onAfterEventsLoad.call(t,t.options.events)})};t.prototype._templatePath=function(n){return typeof this.options.tmpl_path=="function"?this.options.tmpl_path(n):this.options.tmpl_path+n+".html"};t.prototype._loadTemplate=function(t){if(!this.options.templates[t]){var i=this;n.ajax({url:i._templatePath(t),dataType:"html",type:"GET",async:!1,cache:this.options.tmpl_cache}).done(function(n){i.options.templates[t]=_.template(n)})}};t.prototype._update=function(){var t=this;n('*[data-toggle="tooltip"]').tooltip({container:this.options.tooltip_container});n("*[data-cal-date]").click(function(){var i=n(this).data("cal-view");t.options.day=n(this).data("cal-date");t.view(i)});n(".cal-cell").dblclick(function(){var i=n("[data-cal-date]",this).data("cal-view");t.options.day=n("[data-cal-date]",this).data("cal-date");t.view(i)});this["_update_"+this.options.view]();this._update_modal()};t.prototype._update_modal=function(){var t=this,i,r;if((n("a[data-event-id]",this.context).unbind("click"),t.options.modal)&&(i=n(t.options.modal),i.length)){r=null;t.options.modal_type=="iframe"&&(r=n(document.createElement("iframe")).attr({width:"100%",frameborder:"0"}));n("a[data-event-id]",this.context).on("click",function(u){u.preventDefault();u.stopPropagation();var f=n(this).attr("href"),e=n(this).data("event-id"),u=_.find(t.options.events,function(n){return n.id==e});t.options.modal_type=="iframe"&&(r.attr("src",f),n(".modal-body",i).html(r));(!i.data("handled.bootstrap-calendar")||i.data("handled.bootstrap-calendar")&&i.data("handled.event-id")!=u.id)&&i.off("show.bs.modal").off("shown.bs.modal").off("hidden.bs.modal").on("show.bs.modal",function(){var r=n(this).find(".modal-body"),e;switch(t.options.modal_type){case"iframe":e=r.height()-parseInt(r.css("padding-top"),10)-parseInt(r.css("padding-bottom"),10);n(this).find("iframe").height(Math.max(e,50));break;case"ajax":n.ajax({url:f,dataType:"html",async:!1,success:function(n){r.html(n)}});break;case"template":t._loadTemplate("modal");r.html(t.options.templates.modal({event:u,calendar:t}))}_.isFunction(t.options.modal_title)&&i.find(".modal-title").html(t.options.modal_title(u))}).on("shown.bs.modal",function(){t.options.onAfterModalShown.call(t,t.options.events)}).on("hidden.bs.modal",function(){t.options.onAfterModalHidden.call(t,t.options.events)}).data("handled.bootstrap-calendar",!0).data("handled.event-id",u.id);i.modal("show")})}};t.prototype._update_day=function(){n("#cal-day-panel").height(n("#cal-day-panel-hour").height())};t.prototype._update_week=function(){};t.prototype._update_year=function(){this._update_month_year()};t.prototype._update_month=function(){var t,r,u;if(this._update_month_year(),t=this,this.options.weekbox==!0){r=n(document.createElement("div")).attr("id","cal-week-box");u=this.options.position.start.getFullYear()+"-"+this.options.position.start.getMonthFormatted()+"-";t.context.find(".cal-month-box .cal-row-fluid").on("mouseenter",function(){var o=new Date(t.options.position.start),e=n(".cal-cell1:first-child .cal-month-day",this),f=e.hasClass("cal-month-first-row")?1:n("[data-cal-date]",e).text();o.setDate(parseInt(f));f=f<10?"0"+f:f;r.html(t.locale.week.format(t.options.display_week_numbers==!0?o.getWeek(i(t,"week_numbers_iso_8601")):""));r.attr("data-cal-week",u+f).show().appendTo(e)}).on("mouseleave",function(){r.hide()});r.click(function(){t.options.day=n(this).data("cal-week");t.view("week")})}t.context.find("a.event").mouseenter(function(){n('a[data-event-id="'+n(this).data("event-id")+'"]').closest(".cal-cell1").addClass("day-highlight dh-"+n(this).data("event-class"))});t.context.find("a.event").mouseleave(function(){n("div.cal-cell1").removeClass("day-highlight dh-"+n(this).data("event-class"))})};t.prototype._update_month_year=function(){var r;if(this.options.views[this.options.view].slide_events){var t=this,i=n(document.createElement("div")).attr("id","cal-day-tick").html('<i class="icon-chevron-down glyphicon glyphicon-chevron-down"><\/i>');t.context.find(".cal-month-day, .cal-year-box .span3").on("mouseenter",function(){n(".events-list",this).length!=0&&n(this).children("[data-cal-date]").text()!=t.activecell&&i.show().appendTo(this)}).on("mouseleave",function(){i.hide()}).on("click",function(u){n(".events-list",this).length!=0&&n(this).children("[data-cal-date]").text()!=t.activecell&&s(u,i,r,t)});r=n(document.createElement("div")).attr("id","cal-slide-box");r.hide().click(function(n){n.stopPropagation()});this._loadTemplate("events-list");i.click(function(i){s(i,n(this),r,t)})}};t.prototype.getEventsBetween=function(t,i){var r=[];return n.each(this.options.events,function(){if(this.start==null)return!0;var n=this.end||this.start;parseInt(this.start)<i&&parseInt(n)>=t&&r.push(this)}),r};n.fn.calendar=function(n){return new t(n,this)}}(jQuery);